@{
    ViewData["Title"] = "Calendar";
}
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.17/index.global.min.js'></script>

<div class="text-center">
    <h1 class="display-4">Calendar</h1>
    <div id='calendar'></div>
</div>

<script>
      document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: 'timeGridWeek',
          slotMinTime: '08:00:00',
          slotMaxTime: '18:00:00',
          height: 'auto',
          events: function(fetchInfo, successCallback, failureCallback) {
              // fetchInfo has start and end dates
              fetch('/Apointments/GetCalendarEvents?start=' + encodeURIComponent(fetchInfo.startStr) + '&end=' + encodeURIComponent(fetchInfo.endStr))
                  .then(response => response.json())
                  .then(data => successCallback(data))
                  .catch(error => failureCallback(error))
          }
        });
        calendar.render()
      });
</script>